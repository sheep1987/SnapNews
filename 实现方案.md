# SnapNews实现方案（基于Streamlit）

## 技术选型

### 前端框架
- **Streamlit**：作为主要界面框架，提供快速开发和部署能力

### 后端服务
- **NewsAPI**：提供新闻数据源
- **OpenAI API**：提供LLM模型能力，用于新闻筛选和总结
- **SQLite/PostgreSQL**：数据存储

## 界面设计

### 1. 主页面布局
- **顶部导航栏**：
  - 应用logo
  - 设置按钮
  - 暗/亮模式切换

- **侧边栏**：
  - 预设标签列表（可点击选择）
  - 自定义标签管理
  - 标签组合管理
  - 设置选项

- **主内容区**：
  - 标签选择区（显示当前已选标签，支持多选）
  - "获取新闻"按钮
  - 新闻卡片展示区
  - AI摘要展示区（使用Streamlit的st.write实现流式显示）

### 2. 新闻卡片设计
- 标题（粗体）
- 发布时间
- 来源信息
- 关键词标签（彩色小标签）
- 简短预览内容
- 图片（如有）
- "阅读更多"链接
- 收藏/分享按钮

## 功能逻辑流程


### 2. 标签管理流程
- 初次使用时显示热门预设标签供选择
- 用户可通过侧边栏管理自己的标签：
  - 添加/删除预设标签
  - 创建自定义标签
  - 设置标签权重（1-5级）
  - 创建标签组合（多个标签的集合）

### 3. 新闻获取与展示流程
1. 用户选择感兴趣标签
2. 点击"获取新闻"按钮
3. 系统向NewsAPI发送请求，根据所选标签获取最新40条相关新闻
4. 首先在前端展示Top 8新闻卡片（根据相关性和时间排序）
5. 同时触发OpenAI API调用，进行新闻筛选和总结
6. 流式返回AI总结结果到摘要区域
7. 用户可滚动查看更多新闻

### 4. AI处理流程
1. 将获取的40条新闻数据发送至OpenAI API
2. 使用适当的提示工程（Prompt Engineering）引导模型：
   - 筛选最相关的内容
   - 去除重复或低质量新闻
   - 按主题聚类
   - 生成总结概要和重点
3. 使用流式响应将AI生成内容实时显示给用户

### 5. 用户交互逻辑
- 卡片点击：打开新闻详情
- 收藏功能：保存感兴趣的新闻到用户账户
- 分享功能：生成分享链接
- 反馈功能：用户可对新闻相关性提供反馈
- 标签调整：动态更新用户兴趣模型

### 5. 扩展性考虑
- 使用.evn文件管理API秘钥
- 配置驱动的标签系统
- 灵活的API适配器
- 可定制的UI组件